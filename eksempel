class AllFlipsGUI extends GUI {

    public AllFlipsGUI(config, player) {
        super(config, player),

        filters = useNamedState('filters', Filters.ONLINE);
        sort = useNamedState('sort', Sort.NEWEST);
        page = useNamedState('page', 0);

        useScheduler(() -> {
            setShownFlips(FlipManager.fetch(filter, sort, page, config.getShownSize());
        }, 20);

        useEffect(() -> {
            setShownFlips(FlipManager.fetch(filter, sort, page, config.getShownSize());
        }, [filters, sort, page]);

        setAction("next-page", () -> {
            page.set(page.get() + 1);
        });

        setAction("previous-page", () -> {
            page.set(page.get() - 1);
        });
    }

    protected void setShownFlips(flips) {
        int index = 0;
        for(Flip flip : flips) {
            addItem(config.getFlipSlot(index), config.getFlipItemProvider().generate(flip), () -> {
                new FlipOfferGUI(config.getFlipOfferGUIConfig(), player, flip).open();
            });
            index++;
        }
    }

}